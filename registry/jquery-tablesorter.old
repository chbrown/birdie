---
versions:
  - 2.0.{10..18}
  - 2.0.18.1
  - 2.0.{19..20}
  - 2.0.20.1
  - 2.0.21
  - 2.0.21.1
  - 2.0.{22..23}
  - 2.0.23.{1..5}
  - 2.0.{24..25}
  - 2.0.25.{1..2}
  - 2.0.{26..28}
  - 2.0.28.1
  - 2.0.{29..30}
  - 2.0.30.1
  - 2.0.31
  - 2.0.{6..9}
  - '2.1'
  - 2.1.1
  - 2.1.{10..19}
  - 2.1.2
  - 2.1.20
  - 2.1.3
  - 2.1.3.1
  - 2.1.{4..9}
  - '2.2'
  - 2.2.{1..2}
  - '2.3'
  - 2.3.1
  - 2.3.{10..11}
  - 2.3.{2..9}
  - '2.4'
  - 2.4.1
  - 2.4.3
  - 2.4.{5..8}
  - '2.5'
  - 2.5.{1..2}
  - '2.6'
  - 2.6.{1..2}
  - '2.7'
  - 2.7.1
  - 2.7.{10..12}
  - 2.7.{2..9}
  - 2.8.{0..2}
  - 2.9.{0..1}
  - 2.10.{0..8}
  - 2.11.{0..1}
  - 2.{12..13}.0
  - 2.13.{1..3}
  - 2.14.{0..3}


exports.resolve = function(version, callback) {
  // the versions that cloudflare exposes are weird, 2.5.2 and 2.9.1, but since
  // the homepage doesn't expose versioned sources, I go with the birdy.cdn.
  var cloudflare = birdy.cdn.cloudflare('jquery.tablesorter')(version);
  var github_base = birdy.cdn.github('Mottie/tablesorter');
  var github_js = github_base('v' + version + '/js');
  var github_images = github_base('v' + version + '/css/images');
  var cdns = [github_js, cloudflare];

  // cdnjs doesn't provide the css or gifs, unfortunately
  var filename_urls = {
    'jquery-tablesorter.js': birdy.mapApply(cdns, 'jquery.tablesorter.js'),
    'jquery-tablesorter.min.js': birdy.mapApply(cdns, 'jquery.tablesorter.min.js'),
    'jquery-tablesorter-widgets.js': birdy.mapApply(cdns, 'jquery.tablesorter.widgets.js'),
    'jquery-tablesorter-widgets.min.js': birdy.mapApply(cdns, 'jquery.tablesorter.widgets.min.js'),
  };

  [
    'black-asc.gif',
    'black-desc.gif',
    'black-unsorted.gif',
    'dropbox-asc-hovered.png',
    'dropbox-asc.png',
    'dropbox-desc-hovered.png',
    'dropbox-desc.png',
    'green-asc.gif',
    'green-desc.gif',
    'green-header.gif',
    'green-unsorted.gif',
    'ice-asc.gif',
    'ice-desc.gif',
    'ice-unsorted.gif',
    'white-asc.gif',
    'white-desc.gif',
    'white-unsorted.gif',
  ].forEach(function(image_name) {
    filename_urls['img/' + image_name] = [github_images(image_name)];
  });

  callback(null, filename_urls);
};
